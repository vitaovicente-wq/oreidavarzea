<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRFutebol - T√°tica Pro</title>
    
    <link rel="stylesheet" href="escalacao.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
    <script src="database_jogadores.js"></script>
    <script src="engine.js"></script>
</head>
<body>

    <header>
        <button class="back-btn" onclick="window.location.href='dashboard.html'">‚ùÆ VOLTAR</button>
        <div class="center-controls">
            <select id="formation-select" class="formation-select" onchange="mudarFormacao()">
                <option value="4-3-3">4-3-3 OFENSIVO</option>
                <option value="4-4-2">4-4-2 CL√ÅSSICO</option>
                <option value="3-5-2">3-5-2 CONTROLE</option>
                <option value="4-2-3-1">4-2-3-1 MODERNO</option>
                <option value="3-4-3">3-4-3 PRESS√ÉO</option>
            </select>
            <div class="team-rating">FOR√áA: <span class="rating-val" id="team-str">0</span></div>
        </div>
        <button class="save-btn" onclick="salvarTudo()">SALVAR</button>
    </header>

    <div class="workspace">
        
        <div class="panel">
            <div class="panel-header">
                <span>N√ÉO RELACIONADOS</span>
                <button class="btn-auto" onclick="autoEscalar()">‚ö° AUTO</button>
            </div>
            <div class="scroll-content" id="roster-list">
                </div>
        </div>

        <div class="field-area">
            <div class="pitch">
                <div class="box box-left"></div> <div class="box box-right"></div>
                
                <div class="field-slot" id="slot-1"><div class="player-kit"><span class="kit-number">1</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-2"><div class="player-kit"><span class="kit-number">2</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-3"><div class="player-kit"><span class="kit-number">3</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-4"><div class="player-kit"><span class="kit-number">4</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-5"><div class="player-kit"><span class="kit-number">5</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-6"><div class="player-kit"><span class="kit-number">6</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-7"><div class="player-kit"><span class="kit-number">7</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-8"><div class="player-kit"><span class="kit-number">8</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-9"><div class="player-kit"><span class="kit-number">9</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-10"><div class="player-kit"><span class="kit-number">10</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="field-slot" id="slot-11"><div class="player-kit"><span class="kit-number">11</span><div class="kit-score"></div><div class="captain-c">C</div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
            </div>

            <div class="bench-label">BANCO DE RESERVAS (7)</div>

            <div class="bench-area">
                <div class="bench-slot" id="bench-1" data-role="RES"><div class="player-kit"><span class="kit-number">12</span><div class="kit-score"></div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="bench-slot" id="bench-2" data-role="RES"><div class="player-kit"><span class="kit-number">13</span><div class="kit-score"></div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="bench-slot" id="bench-3" data-role="RES"><div class="player-kit"><span class="kit-number">14</span><div class="kit-score"></div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="bench-slot" id="bench-4" data-role="RES"><div class="player-kit"><span class="kit-number">15</span><div class="kit-score"></div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="bench-slot" id="bench-5" data-role="RES"><div class="player-kit"><span class="kit-number">16</span><div class="kit-score"></div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="bench-slot" id="bench-6" data-role="RES"><div class="player-kit"><span class="kit-number">17</span><div class="kit-score"></div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
                <div class="bench-slot" id="bench-7" data-role="RES"><div class="player-kit"><span class="kit-number">18</span><div class="kit-score"></div></div><div class="slot-info-box"><span class="slot-name">Vazio</span></div></div>
            </div>
        </div>

        <div class="panel panel-right">
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('funcoes')">FUN√á√ïES</button>
                <button class="tab-btn" onclick="switchTab('estrategia')">ESTRAT√âGIA</button>
            </div>

            <div id="tab-funcoes" class="tab-content active">
                <div class="role-card"><label class="role-title">¬© Capit√£o</label><select id="role-capitao" class="role-select" onchange="atualizarIconesFuncao()"></select></div>
                <div class="role-card"><label class="role-title">‚öΩ P√™naltis</label><select id="role-penalti" class="role-select"></select></div>
                <div class="role-card"><label class="role-title">üéØ Faltas</label><select id="role-falta" class="role-select"></select></div>
                <div class="role-card"><label class="role-title">üö© Escanteio D</label><select id="role-escanteioD" class="role-select"></select></div>
                <div class="role-card"><label class="role-title">üö© Escanteio E</label><select id="role-escanteioE" class="role-select"></select></div>
            </div>

            <div id="tab-estrategia" class="tab-content">
                <div class="role-card">
                    <label class="role-title">MENTALIDADE: <span id="val-mentalidade" class="tactic-value">Equilibrada</span></label>
                    <input type="range" id="slider-mentalidade" min="1" max="5" value="3" oninput="atualizarLabelsTatica()">
                    <div class="range-labels"><span>Def</span><span>Eq</span><span>Atq</span></div>
                </div>
                <div class="role-card">
                    <label class="role-title">INTENSIDADE: <span id="val-intensidade" class="tactic-value">Normal</span></label>
                    <input type="range" id="slider-intensidade" min="1" max="3" value="2" oninput="atualizarLabelsTatica()">
                    <div class="range-labels"><span>Leve</span><span>Normal</span><span>Alta</span></div>
                </div>
            </div>
        </div>

    </div>

    <script>
        let gameState, meuTime;
        let escalacaoAtual = {}; // Formato: { "slot-1": "id", "bench-1": "id" }
        let funcoesAtuais = { capitao: null, penalti: null, falta: null, escanteioD: null, escanteioE: null };
        let taticasAtuais = { mentalidade: 3, intensidade: 2 };
        let formacaoAtual = "4-3-3";

        // CONFIGURA√á√ÉO DE LAYOUTS (COORDENADAS)
        const layouts = {
            "4-3-3": [{id:"slot-1",t:"50%",l:"5%",r:"GOL"},{id:"slot-2",t:"15%",l:"25%",r:"LE"},{id:"slot-3",t:"35%",l:"20%",r:"ZAG"},{id:"slot-4",t:"65%",l:"20%",r:"ZAG"},{id:"slot-5",t:"85%",l:"25%",r:"LD"},{id:"slot-6",t:"50%",l:"40%",r:"VOL"},{id:"slot-7",t:"30%",l:"55%",r:"MEI"},{id:"slot-8",t:"70%",l:"55%",r:"MEI"},{id:"slot-9",t:"20%",l:"80%",r:"ATA"},{id:"slot-10",t:"50%",l:"85%",r:"ATA"},{id:"slot-11",t:"80%",l:"80%",r:"ATA"}],
            "4-4-2": [{id:"slot-1",t:"50%",l:"5%",r:"GOL"},{id:"slot-2",t:"10%",l:"25%",r:"LE"},{id:"slot-3",t:"35%",l:"20%",r:"ZAG"},{id:"slot-4",t:"65%",l:"20%",r:"ZAG"},{id:"slot-5",t:"90%",l:"25%",r:"LD"},{id:"slot-6",t:"35%",l:"45%",r:"VOL"},{id:"slot-7",t:"65%",l:"45%",r:"VOL"},{id:"slot-8",t:"15%",l:"60%",r:"MEI"},{id:"slot-9",t:"85%",l:"60%",r:"MEI"},{id:"slot-10",t:"35%",l:"85%",r:"ATA"},{id:"slot-11",t:"65%",l:"85%",r:"ATA"}],
            "3-5-2": [{id:"slot-1",t:"50%",l:"5%",r:"GOL"},{id:"slot-2",t:"20%",l:"20%",r:"ZAG"},{id:"slot-3",t:"50%",l:"18%",r:"ZAG"},{id:"slot-4",t:"80%",l:"20%",r:"ZAG"},{id:"slot-5",t:"35%",l:"40%",r:"VOL"},{id:"slot-6",t:"65%",l:"40%",r:"VOL"},{id:"slot-7",t:"10%",l:"50%",r:"MEI"},{id:"slot-8",t:"90%",l:"50%",r:"MEI"},{id:"slot-9",t:"50%",l:"60%",r:"MEI"},{id:"slot-10",t:"35%",l:"85%",r:"ATA"},{id:"slot-11",t:"65%",l:"85%",r:"ATA"}],
            "4-2-3-1":[{id:"slot-1",t:"50%",l:"5%",r:"GOL"},{id:"slot-2",t:"10%",l:"25%",r:"LE"},{id:"slot-3",t:"35%",l:"20%",r:"ZAG"},{id:"slot-4",t:"65%",l:"20%",r:"ZAG"},{id:"slot-5",t:"90%",l:"25%",r:"LD"},{id:"slot-6",t:"35%",l:"40%",r:"VOL"},{id:"slot-7",t:"65%",l:"40%",r:"VOL"},{id:"slot-8",t:"50%",l:"60%",r:"MEI"},{id:"slot-9",t:"20%",l:"75%",r:"ATA"},{id:"slot-10",t:"50%",l:"85%",r:"ATA"},{id:"slot-11",t:"80%",l:"75%",r:"ATA"}],
            "3-4-3": [{id:"slot-1",t:"50%",l:"5%",r:"GOL"},{id:"slot-2",t:"20%",l:"20%",r:"ZAG"},{id:"slot-3",t:"50%",l:"18%",r:"ZAG"},{id:"slot-4",t:"80%",l:"20%",r:"ZAG"},{id:"slot-5",t:"15%",l:"45%",r:"MEI"},{id:"slot-6",t:"40%",l:"45%",r:"VOL"},{id:"slot-7",t:"60%",l:"45%",r:"VOL"},{id:"slot-8",t:"85%",l:"45%",r:"MEI"},{id:"slot-9",t:"20%",l:"80%",r:"ATA"},{id:"slot-10",t:"50%",l:"85%",r:"ATA"},{id:"slot-11",t:"80%",l:"80%",r:"ATA"}]
        };

        window.onload = function() {
            try {
                gameState = Engine.carregarJogo();
                if(!gameState) throw new Error("Save n√£o encontrado");
                meuTime = Engine.encontrarTime(gameState, gameState.meuTime);
                
                carregarDadosSalvos();
                aplicarLayout(formacaoAtual);
                renderizarLista();
                atualizarCampo();
                povoarDropdowns();
                atualizarLabelsTatica();
            } catch(e) { console.error(e); alert("Erro ao carregar: "+e.message); window.location.href='index.html'; }
        };

        function carregarDadosSalvos() {
            const fs = localStorage.getItem('brfutebol_esquema');
            if(fs) { formacaoAtual = fs; document.getElementById('formation-select').value = formacaoAtual; }
            const fj = localStorage.getItem('brfutebol_formacao');
            if(fj) { try{ escalacaoAtual = JSON.parse(fj); }catch(e){} } else { autoEscalar(true); }
            const ff = localStorage.getItem('brfutebol_funcoes');
            if(ff) { try{ funcoesAtuais = JSON.parse(ff); }catch(e){} }
            const ft = localStorage.getItem('brfutebol_taticas');
            if(ft) { try{ taticasAtuais = JSON.parse(ft); document.getElementById('slider-mentalidade').value=taticasAtuais.mentalidade; document.getElementById('slider-intensidade').value=taticasAtuais.intensidade; }catch(e){} }
        }

        function switchTab(t) {
            document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
            document.getElementById('tab-'+t).classList.add('active');
            const idx = t==='funcoes'?0:1;
            document.querySelectorAll('.tab-btn')[idx].classList.add('active');
        }

        function atualizarLabelsTatica() {
            const m = ["Ultra Def", "Retranca", "Equilibrada", "Ofensiva", "Tudo ou Nada"];
            const i = ["Leve", "Normal", "Press√£o Alta"];
            document.getElementById('val-mentalidade').innerText = m[document.getElementById('slider-mentalidade').value-1];
            document.getElementById('val-intensidade').innerText = i[document.getElementById('slider-intensidade').value-1];
        }

        function mudarFormacao() {
            formacaoAtual = document.getElementById('formation-select').value;
            aplicarLayout(formacaoAtual);
            atualizarCampo();
        }

        function aplicarLayout(nome) {
            if(!layouts[nome]) return;
            layouts[nome].forEach(p => {
                const s = document.getElementById(p.id);
                if(s) { s.style.top=p.t; s.style.left=p.l; s.dataset.role=p.r; }
            });
        }

        // --- RENDERIZA√á√ÉO DA LISTA DE N√ÉO RELACIONADOS ---
        function renderizarLista() {
            const container = document.getElementById('roster-list');
            container.innerHTML = '';
            
            // Filtra quem j√° est√° no time (Campo ou Banco)
            const emCampo = Object.values(escalacaoAtual);
            let lista = meuTime.elenco.filter(j => !emCampo.includes(j.id));

            // Ordena Posi√ß√£o > For√ßa
            const ordem = {'GOL':1, 'LD':2, 'LE':2, 'ZAG':3, 'VOL':4, 'MEI':5, 'ATA':6};
            lista.sort((a,b) => {
                const pa = ordem[a.pos]||99, pb = ordem[b.pos]||99;
                if(pa!==pb) return pa-pb;
                return b.forca - a.forca;
            });

            if(lista.length === 0) {
                container.innerHTML = '<div style="text-align:center; padding:20px; color:#555; font-style:italic;">Elenco completo escalado!</div>';
                return;
            }

            lista.forEach(jog => {
                const div = document.createElement('div');
                div.className = 'roster-item';
                div.draggable = true;
                div.id = `card-${jog.id}`;
                div.innerHTML = `
                    <div class="pos-badge">${jog.pos}</div>
                    <div class="player-info">
                        <div class="player-name">${jog.nome}</div>
                        <div class="health-bar-container"><div class="health-bar-fill" style="width:${jog.saude||100}%; background:${getCorSaude(jog.saude)}"></div></div>
                    </div>
                    <div class="ovr-badge">${jog.forca}</div>
                `;
                div.addEventListener('dragstart', handleDragStart);
                div.onclick = () => selecionarParaTroca(jog.id);
                container.appendChild(div);
            });
        }

        // --- RENDERIZA√á√ÉO DO CAMPO E BANCO ---
        function atualizarCampo() {
            let soma = 0, count = 0;
            const slots = [...document.querySelectorAll('.field-slot'), ...document.querySelectorAll('.bench-slot')];
            
            slots.forEach(slot => {
                const jId = escalacaoAtual[slot.id];
                const jog = jId ? meuTime.elenco.find(x => x.id === jId) : null;
                const kit = slot.querySelector('.player-kit');
                const info = slot.querySelector('.slot-info-box');

                slot.classList.remove('filled', 'pos-wrong', 'pos-medium', 'is-captain');

                if(jog) {
                    slot.classList.add('filled');
                    
                    const role = slot.dataset.role;
                    if(role && role !== 'RES') {
                        if(role === jog.pos) { /* ok */ }
                        else if(posicaoAceitavel(role, jog.pos)) { slot.classList.add('pos-medium'); }
                        else { slot.classList.add('pos-wrong'); }
                    }

                    // ATUALIZA KIT COM SCORE
                    kit.innerHTML = `
                        <span class="kit-number">${jog.pos}</span>
                        <div class="kit-score" style="position:absolute; top:-5px; right:-5px; background:var(--gold); color:#000; width:18px; height:18px; border-radius:50%; font-size:0.65rem; font-weight:900; display:flex; align-items:center; justify-content:center; border:2px solid #1e2329;">${jog.forca}</div>
                        <div class="captain-c">C</div>
                    `;

                    info.querySelector('.slot-name').innerText = jog.nome.split(' ')[0];
                    const hb = info.querySelector('.mini-health-fill');
                    if(hb) { hb.style.width = (jog.saude||100)+'%'; hb.style.background = getCorSaude(jog.saude); }

                    const cId = document.getElementById('role-capitao').value || funcoesAtuais.capitao;
                    if(jog.id === cId) slot.classList.add('is-captain');

                    if(slot.id.startsWith('slot-')) { soma += jog.forca; count++; }
                } else {
                    kit.innerHTML = `<span class="kit-number">${slot.dataset.role || "?"}</span>`;
                    info.querySelector('.slot-name').innerText = "Vazio";
                }
            });
            document.getElementById('team-str').innerText = count===11 ? Math.floor(soma/11) : "-";
        }

        function posicaoAceitavel(role, pos) {
            const comp = {
                'GOL':[], 'ZAG':['LE','LD','VOL'], 'LE':['LD','ZAG','MEI'], 'LD':['LE','ZAG','MEI'],
                'VOL':['ZAG','MEI'], 'MEI':['VOL','ATA'], 'ATA':['MEI','ST']
            };
            return comp[pos] && comp[pos].includes(role);
        }

        function getCorSaude(s) { if(s===undefined) s=100; return s<60 ? '#e74c3c' : (s<80 ? '#f1c40f' : '#2ecc71'); }

        function povoarDropdowns() {
            // S√≥ quem est√° no campo (slot-x) pode ter fun√ß√£o
            const titulares = Object.values(escalacaoAtual).filter(id => {
                const key = Object.keys(escalacaoAtual).find(k => escalacaoAtual[k] === id);
                return key && key.startsWith('slot-');
            }).map(id => meuTime.elenco.find(j => j.id === id));
            
            titulares.sort((a,b) => b.forca - a.forca);

            ['capitao','penalti','falta','escanteioD','escanteioE'].forEach(r => {
                const el = document.getElementById(`role-${r}`);
                const val = el.value || funcoesAtuais[r];
                el.innerHTML = '<option value="">-- Escolher --</option>';
                titulares.forEach(j => {
                    const op = document.createElement('option');
                    op.value = j.id; op.innerText = `[${j.pos}] ${j.nome}`;
                    if(j.id===val) op.selected = true;
                    el.appendChild(op);
                });
            });
            atualizarIconesFuncao();
        }

        function atualizarIconesFuncao() {
            const cid = document.getElementById('role-capitao').value;
            document.querySelectorAll('.field-slot').forEach(s => {
                const jid = escalacaoAtual[s.id];
                if(jid && jid === cid) s.classList.add('is-captain');
                else s.classList.remove('is-captain');
            });
        }

        // DRAG & DROP
        function handleDragStart(e) { e.dataTransfer.setData('text/plain', this.id.replace('card-','')); }
        
        const allSlots = [...document.querySelectorAll('.field-slot'), ...document.querySelectorAll('.bench-slot')];
        allSlots.forEach(s => {
            s.addEventListener('dragover', e => { e.preventDefault(); s.style.transform='translate(-50%,-50%) scale(1.1)'; });
            s.addEventListener('dragleave', e => { s.style.transform='translate(-50%,-50%) scale(1)'; });
            s.addEventListener('drop', handleDrop);
            s.onclick = () => removerJogador(s.id);
        });

        function handleDrop(e) {
            e.preventDefault(); this.style.transform='translate(-50%,-50%) scale(1)';
            const jId = e.dataTransfer.getData('text/plain');
            Object.keys(escalacaoAtual).forEach(k => { if(escalacaoAtual[k]===jId) delete escalacaoAtual[k]; });
            escalacaoAtual[this.id] = jId;
            renderizarLista(); atualizarCampo(); povoarDropdowns();
        }

        function removerJogador(sid) {
            if(escalacaoAtual[sid]) {
                delete escalacaoAtual[sid];
                renderizarLista(); atualizarCampo(); povoarDropdowns();
            }
        }

        // MOBILE CLICK
        let selId = null;
        function selecionarParaTroca(id) {
            if(selId===id) { selId=null; renderizarLista(); return; }
            selId=id;
            document.querySelectorAll('.roster-item').forEach(c=>c.style.background='transparent');
            const c=document.getElementById(`card-${id}`); if(c) c.style.background='rgba(0,255,136,0.15)';
            
            allSlots.forEach(s => {
                s.onclick = function() {
                    if(selId) {
                        Object.keys(escalacaoAtual).forEach(k => { if(escalacaoAtual[k]===selId) delete escalacaoAtual[k]; });
                        escalacaoAtual[this.id] = selId;
                        selId=null; renderizarLista(); atualizarCampo(); povoarDropdowns();
                        allSlots.forEach(x => x.onclick = () => removerJogador(x.id));
                    } else { removerJogador(this.id); }
                }
            });
        }

        function autoEscalar(silencioso=false) {
            if(!silencioso && !confirm("Auto-escalar?")) return;
            escalacaoAtual = {};
            const usados = [];
            
            // 1. Titulares
            layouts[formacaoAtual].forEach(p => {
                let m = meuTime.elenco.find(j => j.pos===p.r && !usados.includes(j.id) && (j.saude||100)>50);
                if(!m) m = meuTime.elenco.find(j => j.pos!=='GOL' && !usados.includes(j.id) && (j.saude||100)>40);
                if(m) { escalacaoAtual[p.id] = m.id; usados.push(m.id); }
            });

            // 2. Banco (7 Slots)
            for(let i=1; i<=7; i++) {
                let m = meuTime.elenco.find(j => !usados.includes(j.id));
                if(m) { escalacaoAtual[`bench-${i}`] = m.id; usados.push(m.id); }
            }

            renderizarLista(); atualizarCampo(); povoarDropdowns();
            const cap = document.getElementById('role-capitao');
            if(cap && !cap.value && usados.length>0) cap.value = usados[0];
        }

        function salvarTudo() {
            const titulares = Object.keys(escalacaoAtual).filter(k => k.startsWith('slot-')).length;
            if(titulares < 11) alert("Time titular incompleto ("+titulares+"/11).");
            
            localStorage.setItem('brfutebol_formacao', JSON.stringify(escalacaoAtual));
            localStorage.setItem('brfutebol_esquema', formacaoAtual);
            
            const f = {
                capitao: document.getElementById('role-capitao').value,
                penalti: document.getElementById('role-penalti').value,
                falta: document.getElementById('role-falta').value,
                escanteioD: document.getElementById('role-escanteioD').value,
                escanteioE: document.getElementById('role-escanteioE').value
            };
            localStorage.setItem('brfutebol_funcoes', JSON.stringify(f));

            const t = {
                mentalidade: document.getElementById('slider-mentalidade').value,
                intensidade: document.getElementById('slider-intensidade').value
            };
            localStorage.setItem('brfutebol_taticas', JSON.stringify(t));

            const b = document.querySelector('.save-btn');
            b.innerText = "SALVO!";
            setTimeout(() => { b.innerText="SALVAR"; window.location.href='dashboard.html'; }, 800);
        }
    </script>
</body>
</html>
