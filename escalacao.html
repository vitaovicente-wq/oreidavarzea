<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>O Rei da V√°rzea ‚Äî Escala√ß√£o</title>
<link rel="stylesheet" href="css/style.css">
<style>
  .formation-line { display: flex; justify-content: center; align-items: center; gap: 10px; width: 100%; position: absolute; left: 0; padding: 0 10px; box-sizing: border-box;}
  .position-slot { width: 140px; height: 50px; border-radius: 8px; background: rgba(255, 255, 255, 0.95); display: flex; align-items: center; justify-content: center; cursor: pointer; margin: 4px; border: 2px dashed #ccc; transition: all 0.3s; font-size: 12px; text-align: center; flex-direction: column; padding: 5px; flex-shrink: 0;}
  .pitch { width: 100%; height: 600px; background: linear-gradient(#73c26b, #5eb95e); border-radius: 12px; padding: 10px; box-sizing: border-box; position: relative; }
  .formation-controls { margin-bottom: 20px; display: flex; align-items: center; gap: 10px; background-color: #f0f4f8; padding: 10px; border-radius: 8px; }
  .formation-controls label { margin: 0; font-weight: bold; }
  #formationSelect { padding: 8px; border-radius: 6px; border: 1px solid #ddd; font-size: 14px; }
  .health-bar { width: 80px; height: 8px; background: #eee; border-radius: 4px; overflow: hidden; display: inline-block; }
  .health-fill { height: 100%; transition: width 0.3s; }
  .skill-bar { width: 80px; height: 8px; background: #eee; border-radius: 4px; overflow: hidden; display: inline-block; margin-left:8px; vertical-align:middle; }
  .skill-fill { height: 100%; background: #9c27b0; transition:width 0.3s}
  .player-with-tooltip { position: relative; display: inline-block; cursor: help; }
  .tooltip-text { visibility: hidden; width: 220px; background-color: #555; color: #fff; text-align: center; border-radius: 6px; padding: 8px; position: absolute; z-index: 10; top: 50%; left: 105%; transform: translateY(-50%); opacity: 0; transition: opacity 0.3s; font-style: italic; font-size: 12px; }
  .tooltip-text::after { content: ""; position: absolute; top: 50%; right: 100%; margin-top: -5px; border-width: 5px; border-style: solid; border-color: transparent #555 transparent transparent; }
  .player-with-tooltip:hover .tooltip-text { visibility: visible; opacity: 1; }
  .top-controls { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 15px; }
  .top-controls button, .top-controls div { flex: 1; color: white; padding: 12px 18px; border-radius: 8px; font-size: 1.1em; font-weight: bold; cursor: pointer; transition: background-color 0.2s; text-align: center; border: none; }
  .finance-box { background-color: #28a745; } .finance-box:hover { background-color: #218838; }
  #zapButton { background-color: #17a2b8; position: relative; } #zapButton:hover { background-color: #138496; }
  #postinhoButton { background-color: #dc3545; } #postinhoButton:hover { background-color: #c82333; }
  #treinoButton { background-color: #ffc107; color: #212529; } #treinoButton:hover { background-color: #e0a800; }
  .notification-dot { height: 12px; width: 12px; background-color: red; border-radius: 50%; position: absolute; top: 8px; right: 8px; border: 2px solid white; display:flex; justify-content: center; align-items: center; font-size: 9px; }
  .modal-content h2, .modal-content h3 { margin-top: 0; }
  .postinho-modal-content { max-width: 800px; display: flex; gap: 20px; }
  .player-list-column, .treatment-column { flex: 1; }
  .player-list-column { height: 450px; overflow-y: auto; border-right: 1px solid #eee; padding-right: 20px; }
  .postinho-player-item { padding: 10px; border-radius: 6px; cursor: pointer; margin-bottom: 8px; border: 1px solid #ddd; }
  .postinho-player-item.selected { background-color: #e0f3ff; border-color: #0b6bd6; }
  .diagnosis-box { background: #fff9e6; border: 1px solid #ffecb3; padding: 15px; border-radius: 8px; margin-top: 10px; font-style: italic; }
  .treatment-list { margin-top: 20px; }
  .treatment-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; border: 1px solid #eee; border-radius: 6px; margin-bottom: 8px; }
  .zap-modal-content { max-width: 450px; padding: 0; }
  .zap-header { background: #075e54; color: white; padding: 15px; border-radius: 10px 10px 0 0; }
  .chat-container { background-image: url('https://user-images.githubusercontent.com/15075759/28719134-447aae62-73c1-11e7-911d-60d70fcded21.png'); padding: 15px; height: 400px; overflow-y: auto; }
  .chat-message { display: flex; margin-bottom: 10px; }
  .message-bubble { background-color: #fff; padding: 10px 15px; border-radius: 8px; max-width: 80%; box-shadow: 0 1px 1px rgba(0,0,0,0.1); }
  .message-sender { font-weight: bold; color: #0b6bd6; margin-bottom: 4px; }
  .player-list-modal { display: flex; flex-direction: column; gap: 8px; margin-top: 15px; }
  .modal-player-item { padding: 10px; border: 1px solid #eee; border-radius: 6px; cursor: pointer; }
  .modal-player-item:hover { background-color: #f5f7fb; }
  .treino-modal-content { max-width: 700px; }
  .treino-list { height: 450px; overflow-y: auto; }
  .treino-item { border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom: 10px; }
  .treino-item h4 { margin-top: 0; }
</style>
</head>
<body>
<header>
  <div class="container"><h1 id="headerTitle">O Rei da V√°rzea</h1></div>
</header>
<div class="container">
  <div id="tela3" class="card">
    <div class="top-controls">
        <div id="financeBox" class="finance-box">Caixa: <span id="cashDisplay">--</span></div>
        <button id="zapButton">Zap do Professor <span id="zapNotification" class="notification-dot" style="display: none;"></span></button>
        <button id="postinhoButton">Postinho üè•</button>
        <button id="treinoButton">Treinamento üèãÔ∏è</button>
    </div>
    <h2>Tela 3 ‚Äî Escala√ß√£o</h2>
    <div class="formation-controls">
      <label for="formationSelect">Escolha a sua forma√ß√£o:</label>
      <select id="formationSelect">
        <option value="4-4-2">4-4-2 (Equilibrado)</option>
        <option value="4-3-3">4-3-3 (Ofensivo)</option>
        <option value="3-5-2">3-5-2 (Meio-Campo Forte)</option>
        <option value="4-2-4">4-2-4 (Ultra Ofensivo)</option>
        <option value="5-4-1">5-4-1 (Retranca)</option>
      </select>
    </div>
    <div class="card">
      <h3>Escala√ß√£o Principal</h3>
      <div class="pitch" id="pitch"></div>
    </div>
    <div class="card" style="margin-top: 20px;">
      <h3>Banco de Reservas</h3>
      <div class="bench" id="bench"></div>
    </div>
    <div class="controls">
        <a id="linkTela4" href="partida.html">
            <button id="btnPlayMatch" disabled>Jogar partida</button>
        </a>
    </div>
  </div>
</div>
<div id="financeModal" class="modal">
  <div class="modal-content">
    <span id="financeModalClose" class="close">&times;</span>
    <h2>Relat√≥rio Financeiro</h2>
    <h3>Saldo em Caixa: <span id="modalCash">--</span></h3>
    <hr><h4>Receitas</h4>
    <p>Renda de Partidas: <span id="modalRevenueMatches" style="color: green;">--</span></p>
    <p>Pr√™mios e Patroc√≠nio: <span id="modalRevenueSponsors" style="color: green;">--</span></p>
    <h4>Despesas</h4>
    <p>Contrata√ß√µes (passes): <span id="modalExpenseSignings" style="color: red;">--</span></p>
    <p>Sal√°rios Pagos: <span id="modalExpenseSalaries" style="color: red;">--</span></p>
    <p>Bicho (Pr√™mio por vit√≥ria): <span id="modalExpenseBonus" style="color: red;">--</span></p>
    <hr><h3>Balan√ßo Geral: <span id="modalBalance">--</span></h3>
  </div>
</div>
<div id="zapModal" class="modal">
    <div class="modal-content zap-modal-content">
        <div class="zap-header"><span id="zapModalClose" class="close">&times;</span><h2>Zap do Professor</h2></div>
        <div id="chatContainer" class="chat-container"></div>
    </div>
</div>
<div id="postinhoModal" class="modal">
    <div class="modal-content postinho-modal-content">
        <div class="player-list-column">
            <h3>Elenco</h3><div id="postinhoPlayerList"></div>
        </div>
        <div class="treatment-column">
            <span id="postinhoModalClose" class="close">&times;</span>
            <h2>Sala do Dr. Tairo</h2>
            <div id="treatmentPanel"><p class="muted" style="text-align: center; margin-top: 50px;">Selecione um jogador √† esquerda para o diagn√≥stico.</p></div>
        </div>
    </div>
</div>
<div id="treinoModal" class="modal">
    <div class="modal-content treino-modal-content">
        <span id="treinoModalClose" class="close">&times;</span>
        <h2>CT do Terr√£o - Treino da Semana</h2>
        <p class="muted">Escolha um treino para o elenco. O treino s√≥ pode ser realizado uma vez por semana (entre as partidas).</p>
        <div id="treinoList" class="treino-list"></div>
    </div>
</div>
<div id="playerModal" class="modal">
  <div class="modal-content">
    <span class="close" id="playerModalClose">&times;</span>
    <h3 id="modalTitle">Selecionar Jogador</h3>
    <div id="modalSubtitle" class="muted"></div>
    <div id="playerList" class="player-list-modal"></div>
  </div>
</div>

<script src="js/escalacao.js"></script>
</body>
</html>
