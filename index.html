<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>O Rei da Várzea — Cadastro</title>
<style>
  :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
  body{margin:0;background:#f5f7fb;color:#111}
  header{background:#0b6bd6;color:#fff;padding:14px 18px}
  .container{max-width:1100px;margin:18px auto;padding:10px}
  .card{background:#fff;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.06);padding:16px;margin-bottom:16px;}
  label{display:block;margin-top:8px}
  input[type=text]{width:100%;padding:10px;border:1px solid #ddd;border-radius:6px;box-sizing: border-box;}
  button{background:#0b6bd6;color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer; width: 100%; font-size: 16px;}
  button[disabled]{opacity:0.45;cursor:default}
  .controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-top:10px}
  .muted{color:#666;font-size:13px}
  a { text-decoration: none; display: block; width: 100%;}
</style>
</head>
<body>
<header>
  <div class="container"><h1>O Rei da Várzea — Protótipo</h1></div>
</header>

<div class="container">
  <div id="tela1" class="card">
    <h2>Tela 1 — Crie seu Time</h2>
    <label>Nome do seu time
      <input id="teamName" type="text" placeholder="Ex: Os Meninos da Rua" />
    </label>
    <label>Seu nome (Manager)
      <input id="userName" type="text" placeholder="Seu nome" />
    </label>
    <label>Cidade
      <input id="cityName" type="text" placeholder="Cidade" />
    </label>
    <div class="controls">
      <a id="linkTela2" href="mercado.html">
        <button id="btnToTela2" disabled>Contratar jogadores</button>
      </a>
      <div class="muted">Preencha todos os campos para habilitar.</div>
    </div>
  </div>
</div>

<script>
  const teamNameInput = document.getElementById('teamName');
  const userNameInput = document.getElementById('userName');
  const cityNameInput = document.getElementById('cityName');
  const btnToTela2 = document.getElementById('btnToTela2');
  const linkTela2 = document.getElementById('linkTela2');

  // Função para validar se todos os campos estão preenchidos
  function validateForm() {
    const teamName = teamNameInput.value.trim();
    const userName = userNameInput.value.trim();
    const cityName = cityNameInput.value.trim();

    // Habilita ou desabilita o botão baseado na validação
    if (teamName && userName && cityName) {
      btnToTela2.disabled = false;
    } else {
      btnToTela2.disabled = true;
    }
  }

  // Adiciona um "ouvinte" para cada campo de input
  teamNameInput.addEventListener('input', validateForm);
  userNameInput.addEventListener('input', validateForm);
  cityNameInput.addEventListener('input', validateForm);

  // Função para salvar os dados e ir para a próxima página
  linkTela2.addEventListener('click', function(event) {
    // Se o botão estiver desabilitado, impede a navegação
    if (btnToTela2.disabled) {
      event.preventDefault();
      return;
    }

    // Salva os dados no localStorage
    const userData = {
      teamName: teamNameInput.value.trim(),
      userName: userNameInput.value.trim(),
      cityName: cityNameInput.value.trim()
    };
    
    // Converte o objeto para texto e salva
    localStorage.setItem('userData', JSON.stringify(userData));
    
    // Zera o dinheiro e o elenco para um novo jogo
    localStorage.setItem('dinheiroEmCaixa', 5000);
    localStorage.removeItem('elencoDoTime'); // Garante que não há elenco antigo
  });

</script>
</body>
</html>
