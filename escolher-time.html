<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRFutebol - Sele√ß√£o de Time</title>
    <style>
        :root {
            --primary: #1e272e;
            --secondary: #0fb9b1; /* Verde Turquesa */
            --text: #ecf0f1;
            --card-bg: #2d3436;
            --input-bg: #34495e;
            --hover-bg: #3e4a4c;
            --disabled-color: #95a5a6;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #111;
            color: var(--text);
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        /* --- HEADER --- */
        header {
            background-color: var(--primary);
            padding: 30px 20px;
            text-align: center;
            border-bottom: 3px solid var(--secondary);
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }

        h1 { 
            margin: 0 0 10px 0; 
            font-size: 2.2rem; 
            text-transform: uppercase; 
            letter-spacing: 2px; 
            color: var(--secondary);
        }

        h2 {
            margin: 0 0 25px 0;
            font-size: 1.2rem;
            color: #bdc3c7;
            font-weight: normal;
        }

        .controls-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
        }

        /* --- FORMUL√ÅRIOS --- */
        .form-control {
            width: 100%;
            padding: 15px;
            font-size: 1.1rem;
            border-radius: 8px;
            border: 1px solid #555;
            background-color: var(--input-bg);
            color: white;
            outline: none;
            transition: all 0.3s;
            box-sizing: border-box;
        }

        .form-control:focus {
            border-color: var(--secondary);
            box-shadow: 0 0 8px rgba(15, 185, 177, 0.3);
        }

        /* Estilo espec√≠fico para quando o Select est√° DESATIVADO */
        select.form-control:disabled {
            background-color: #2c3e50;
            color: var(--disabled-color);
            border-color: #444;
            cursor: not-allowed;
            opacity: 0.6;
        }

        select.form-control:enabled {
            cursor: pointer;
            background-color: var(--input-bg);
            border-color: var(--secondary);
            color: white;
        }

        /* --- GRID DE TIMES --- */
        #teams-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* --- CARD DO TIME --- */
        .team-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            border-top: 4px solid var(--secondary);
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transition: transform 0.2s, background-color 0.2s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .team-card:hover {
            transform: translateY(-5px);
            background-color: var(--hover-bg);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        .team-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #444;
        }

        .team-crest {
            width: 60px;
            height: 60px;
            object-fit: contain;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
        }

        .team-name {
            font-size: 1.4rem;
            font-weight: bold;
            color: #fff;
            line-height: 1.2;
        }

        .team-info {
            font-size: 0.95rem;
            line-height: 1.8;
            color: #bdc3c7;
            margin-bottom: 20px;
        }

        .team-info strong {
            color: var(--secondary);
            font-weight: 600;
        }

        .select-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--secondary);
            border: none;
            color: #1e272e;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: background-color 0.3s;
        }
        
        .select-btn:hover {
            background-color: #7bed9f;
        }

        .empty-state {
            grid-column: 1 / -1;
            text-align: center;
            color: #7f8c8d;
            font-size: 1.2rem;
            margin-top: 50px;
            padding: 20px;
            border: 2px dashed #444;
            border-radius: 10px;
        }

    </style>
</head>
<body>

    <header>
        <h1>BRFutebol</h1>
        <h2>Escolha seu time!</h2>
        
        <div class="controls-container">
            <input 
                type="text" 
                id="coach-name" 
                class="form-control" 
                placeholder="1¬∫ Passo: Digite seu nome de t√©cnico..." 
                autocomplete="off"
                oninput="checkName()"
            >
            
            <select id="country-select" class="form-control" onchange="loadCountry()" disabled>
                <option value="" disabled selected>2¬∫ Passo: Selecione a Liga/Pa√≠s...</option>
                <option value="brasil">üáßüá∑ Brasil (S√©rie A)</option>
                <option value="espanha">üá™üá∏ Espanha (La Liga)</option>
                <option value="inglaterra">üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Inglaterra (Premier League)</option>
            </select>
        </div>
    </header>

    <main id="teams-container">
        <div class="empty-state">
            üîí Digite seu nome acima para liberar a sele√ß√£o de ligas.
        </div>
    </main>

    <script>
        // --- BANCO DE DADOS ---
        const database = {
            brasil: [
                { nome: "Flamengo", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/629.png", orcamento: "R$ 200 Mi", expectativa: "Campe√£o", destaque: "Pedro", estadio: "Maracan√£" },
                { nome: "Palmeiras", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/2029.png", orcamento: "R$ 180 Mi", expectativa: "Campe√£o", destaque: "Est√™v√£o", estadio: "Allianz Parque" },
                { nome: "S√£o Paulo", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/2026.png", orcamento: "R$ 90 Mi", expectativa: "Libertadores", destaque: "Lucas Moura", estadio: "Morumbi" },
                { nome: "Corinthians", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/874.png", orcamento: "R$ 100 Mi", expectativa: "G6", destaque: "Memphis Depay", estadio: "Neo Qu√≠mica Arena" },
                { nome: "Botafogo", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/631.png", orcamento: "R$ 150 Mi", expectativa: "T√≠tulo", destaque: "Luiz Henrique", estadio: "Nilton Santos" },
                { nome: "Vasco", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/3454.png", orcamento: "R$ 70 Mi", expectativa: "Sul-Americana", destaque: "Coutinho", estadio: "S√£o Janu√°rio" },
                { nome: "Atl√©tico-MG", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/1045.png", orcamento: "R$ 130 Mi", expectativa: "G4", destaque: "Hulk", estadio: "Arena MRV" },
                { nome: "Internacional", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/1936.png", orcamento: "R$ 100 Mi", expectativa: "G6", destaque: "Alan Patrick", estadio: "Beira-Rio" },
                { nome: "Gr√™mio", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/6273.png", orcamento: "R$ 95 Mi", expectativa: "Sul-Americana", destaque: "Braithwaite", estadio: "Arena do Gr√™mio" },
                { nome: "Cruzeiro", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/2025.png", orcamento: "R$ 120 Mi", expectativa: "G6", destaque: "Matheus Pereira", estadio: "Mineir√£o" }
            ],
            espanha: [
                { nome: "Real Madrid", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/86.png", orcamento: "‚Ç¨ 800 Mi", expectativa: "Tudo", destaque: "Vini Jr.", estadio: "Bernab√©u" },
                { nome: "Barcelona", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/83.png", orcamento: "‚Ç¨ 400 Mi", expectativa: "T√≠tulo", destaque: "Lamine Yamal", estadio: "Camp Nou" },
                { nome: "Atl√©tico de Madrid", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/1068.png", orcamento: "‚Ç¨ 200 Mi", expectativa: "Champions", destaque: "Griezmann", estadio: "Metropolitano" },
                { nome: "Sevilla", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/243.png", orcamento: "‚Ç¨ 150 Mi", expectativa: "Europa League", destaque: "Ocampos", estadio: "S√°nchez Pizju√°n" },
                { nome: "Valencia", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/94.png", orcamento: "‚Ç¨ 80 Mi", expectativa: "Meio de Tabela", destaque: "Hugo Duro", estadio: "Mestalla" }
            ],
            inglaterra: [
                { nome: "Manchester City", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/382.png", orcamento: "¬£ 900 Mi", expectativa: "Tudo", destaque: "Haaland", estadio: "Etihad Stadium" },
                { nome: "Liverpool", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/364.png", orcamento: "¬£ 600 Mi", expectativa: "T√≠tulo", destaque: "Salah", estadio: "Anfield" },
                { nome: "Arsenal", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/359.png", orcamento: "¬£ 500 Mi", expectativa: "T√≠tulo", destaque: "Saka", estadio: "Emirates Stadium" },
                { nome: "Chelsea", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/363.png", orcamento: "¬£ 700 Mi", expectativa: "Champions", destaque: "Cole Palmer", estadio: "Stamford Bridge" },
                { nome: "Aston Villa", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/362.png", orcamento: "¬£ 300 Mi", expectativa: "Europa League", destaque: "Watkins", estadio: "Villa Park" },
                { nome: "Manchester United", escudo: "https://a.espncdn.com/i/teamlogos/soccer/500/360.png", orcamento: "¬£ 600 Mi", expectativa: "G4", destaque: "Bruno Fernandes", estadio: "Old Trafford" }
            ]
        };

        // --- REFER√äNCIAS ---
        const container = document.getElementById('teams-container');
        const countrySelect = document.getElementById('country-select');
        const coachInput = document.getElementById('coach-name');

        // --- NOVA FUN√á√ÉO DE VALIDA√á√ÉO ---
        function checkName() {
            // Verifica se tem texto (removendo espa√ßos vazios)
            const hasName = coachInput.value.trim().length > 0;

            if (hasName) {
                // Se tem nome, libera o select
                countrySelect.disabled = false;
                countrySelect.setAttribute('title', 'Agora voc√™ pode escolher a liga');
            } else {
                // Se apagou o nome, bloqueia tudo de novo
                countrySelect.disabled = true;
                countrySelect.value = ""; // Reseta a sele√ß√£o para a primeira op√ß√£o
                countrySelect.setAttribute('title', 'Digite seu nome primeiro');
                
                // Limpa os times da tela e mostra mensagem de bloqueio
                container.innerHTML = '<div class="empty-state">üîí Digite seu nome acima para liberar a sele√ß√£o de ligas.</div>';
            }
        }

        // --- L√ìGICA DE CARREGAMENTO ---
        function loadCountry() {
            const countryKey = countrySelect.value;
            
            // Verifica√ß√£o de seguran√ßa extra
            if (coachInput.value.trim() === "") {
                alert("Por favor, digite seu nome primeiro.");
                checkName(); // For√ßa o bloqueio se o usu√°rio tentou burlar
                return;
            }

            container.innerHTML = '';
            if(!countryKey) return;

            let times = database[countryKey];
            times.sort((a, b) => a.nome.localeCompare(b.nome));

            times.forEach(time => {
                const card = document.createElement('div');
                card.className = 'team-card';

                card.innerHTML = `
                    <div class="team-header">
                        <img src="${time.escudo}" alt="Escudo ${time.nome}" class="team-crest" onerror="this.src='https://cdn-icons-png.flaticon.com/512/53/53283.png'">
                        <div class="team-name">${time.nome}</div>
                    </div>
                    <div class="team-info">
                        <strong>Or√ßamento:</strong> ${time.orcamento}<br>
                        <strong>Expectativa:</strong> ${time.expectativa}<br>
                        <strong>Destaque:</strong> ${time.destaque}<br>
                        <strong>Est√°dio:</strong> ${time.estadio}
                    </div>
                    <button class="select-btn" onclick="selectTeam('${time.nome}')">Assumir Time</button>
                `;
                container.appendChild(card);
            });
        }

        function selectTeam(teamName) {
            const coachName = coachInput.value.trim();

            // √öltima verifica√ß√£o antes de salvar
            if (coachName === "") {
                checkName(); // Re-aplica bloqueios
                coachInput.focus();
                return;
            }
            
            localStorage.setItem('brfutebol_time', teamName);
            localStorage.setItem('brfutebol_tecnico', coachName);

            let selectedTeamObj = null;
            Object.values(database).forEach(liga => {
                const found = liga.find(t => t.nome === teamName);
                if(found) selectedTeamObj = found;
            });
            
            if(selectedTeamObj) {
                localStorage.setItem('brfutebol_escudo', selectedTeamObj.escudo);
            }

            alert(`‚úÖ Contrato assinado!\n\nBem-vindo ao ${teamName}, t√©cnico ${coachName}.\nVamos para o escrit√≥rio.`);
            // window.location.href = 'dashboard.html'; 
        }
    </script>
</body>
</html>
